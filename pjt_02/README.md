# 관통 프로젝트 2

## 요구사항 A

- 목표
  - 인기 영화 목록을 응답 받는다.
  - 인기 영화 개수를 출력 한다.


- 풀이
  - requests 라이브러리 사용 (TMDB의 Get Popular 데이터 요청)
  - 응답 받은 데이터의 영화 개수 반환하는 함수 popular_count

- 문제
  - .get()의 parameter 역활이 이해가 잘 안 된다.
  - 딕셔너리와 리스트의 혼합 짬뽕이라 구별하기 어렵다.

- 해결
  - '?' 뒤의 데이터인 쿼리 스트링('key = value')rk 2개 이상일 때, 나열하며 하드코딩하기보다, 'params={'key1': 'value1', 'key2': 'value2'.......}로 처리해서 넣는 것이다.
  - 하나씩 벗겨서 따로 변수 할당해서 저장해서 써먹자.

## 요구사항 B

- 목표
  - 인기 영화 목록 중 평점이 8 이상인 영화 목록 출력

- 풀이
  - requests 라이브러리 사용 (TMDB의 Get Popular 데이터 요청)
  - 응답 데이터 중 평점(vote_average)이 8점 이상인 영화 목록을 반환하는 함수 vote_average_movies

- 문제


- 해결


## 요구사항 C

- 목표
  - 인기 영화 목록을 평점이 높은 순으로 5개의 영화 데이터 목록 출력

- 풀이
  - requests 라이브러리 사용 (TMDB의 Get Popular 데이터 요청)
  - 응답 데이터 중 평점(vote_average)을 기준으로 평점이 높은 영화 5개 정보를 리스트로 반환하는 함수 ranking
  - sort 메서드 or sorted 함수의 특정 파라미터

- 문제
  - 데이터 휘발성이 높은 sort 메서드 대신 sorted 함수를 쓸 예정인데, 특정 파라미터 사용법을 전혀 모른다.
  - 딕셔너리 안에 있는 value 값을 기준으로 정렬해야 하는데, 리스트 안의 딕셔너리나 딕셔너리 형태 그대로 sorted 함수나 sort 메서드를 쓸 수가 없다. 계속 에러가 난다. 
  - 목표는 평점이 높은 순으로 출력하는 것인데, 지금 결과는 5위 안에만 있으면 순위 상관 없이 가져온다.
  - 순서 상관 없이가 아니다. 8.7점 다음으로 7.7이 바로 나온다. 이걸 방지할려고 일부로 list 만들어서 순서대로 가져왔는데......
  - 평점 7.7점을 가지고 있는 영화가 2개라서 2번씩 출력된다.

- 해결
  - sorted(정렬할 데이터, key 파라미터, reverse 파라미터)
    - 정렬한 데이터 : iterable한 데이터
    - key 파라미터 : 기준으로 정렬할 값
    - reverse 파라미터 : 디폴트로 reverse = False (오름차순)
  - 결국 계속 필요 변수를 빈 리스트에 뽑아 넣어서 sort하는 식으로 해결. 근데 느낌상 깔끔하다고 느껴지진 않는다. 뭔가 직선이 아니라 돌고 돌아서 목적지에 도달한 느낌?
  - 일단 중복된 이름이 이미 리스트에 있으면 pass하도록 해서 하나 해결
  - 중첩 for 문의 유의점을 발견했다. for 문을 돌리는 순서가 매우 중요했다. 중첩 for문의 작동 방식과 순서에 대해 유의하자.

## 요구사항 D

- 목표
  - 제공된 영화 제목('기생출', '그래비티', '검색할 수 없는 영화')을 검색하여 추천 영화 목록을 출력합니다.

- 풀이
  - 제공된 영화 제목으로 TMDB에서 영화 검색 (Search Movies)
  - 응답 데이터 중 첫번째 영화의 id 값을 찾아 해당 영화에 대한 추천 영화 목록(Get Recommendations)을 가져옵니다.
  - 추천 영화 목록 중 첫번째 영화만 출력하는 함수 recommendation 

- 문제
  - 왜 '실행 예시'에서 리스트 안 영화 제목이 왜케 많지...? 첫번째 영화만 출력하는 거면 1개만 있어야 하는거 아닌가?
  - 검색된 영화 정보가 없을 때 Error가 뜬다.
  - 제목이 영어로 나온다.

- 해결
  - 일단 1개가 아닌 추천 목록 전체를 받고 보자.
  - 파이썬 f-string은 print에서만 쓰이는 것이 아니다. 문자열에서 변수값을 넣을 때도 쓸 수 있다.
  - 예외 처리(try-except)로 쉽게 해결
  - 파라미터에 '&language=ko'

## 요구사항 E

- 목표
  - 제공된 영화 제목('기생충', '검색할 수 없는 영화')을 검색
  - 해당 영화의 출연진(cast)과 스태프(crew) 중 연출진(Directing)의 이름 출력합니다.

- 풀이
  - 제공된 영화 제목으로 TMDB에서 영화 검색 (Search Movies)
  - 응답 데이터 중 첫번째 영화의 id 값을 찾아 해당 영화에 대한 출연진과 스태프 목록(Get Credits)을 가져옵니다.
  - 출연진은 cast_id 값이 10 미만인 출연진만 추출
  - 연출진은 스태프 부서(department)가 Directing인 데이터만 추출
  - 답을 반환하는 함수 credits

- 문제


- 해결